function [Y,Xf,Af] = myNeuralNetworkBayesian(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 10-Apr-2020 22:36:23.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx141 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx9 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1;0;0;0;-179.597749822;-178.15650684;-179.2660974809;-179.816544506;-178.8259962856;-179.9777291061;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;-14.8992;-55;-1;-29337181.8182;-1786045.4545;-1786045.4545;0;-11357727.2727;-167727.2727;-167727.2727;0;-19206818.1818;-588590.90909;-987727.27273;0;-9986454.54545;-301636.3636;-4870863.63636;0;-19062181.8182;-1036272.7273;-2933090.9091;0;-9582363.63636;-376363.63636;-4349954.54545;0;-14447272.7273;-410272.7273;-2161545.45455;0;-6295363.63636;-175545.45455;-175545.45455;0;-21557181.8182;-1778727.2727;-1778727.2727;0;-12584818.1818;-90454.54545;-130181.81818;0;-19137545.4545;-783227.27273;-1467136.3636;0;-9787181.81818;-187090.90909;-4573931.81818;0;-15700545.4545;-539590.9091;-6422090.90909;0;-10708363.6364;-407636.36364;-1435818.18182;0;-17790000;-2001863.6364;-2001863.6364;0;-11611363.6364;-647545.45455;-5429136.36364;0;-21396454.5455;-767181.8182;-4327545.45455;0;-13060727.2727;-432181.81818;-4203363.63636;0;-20566000;-3905909.0909;-3905909.0909;0;-12386545.4545;-365909.09091;-433272.72727;0;-22251136.3636;-2167863.6364;-13907113.6364;0;-10960272.7273;-323636.36364;-1919727.27273;0;-23551272.7273;-14915409.0909;-14915409.0909;0;-15074545.4545;-2333363.6364;-4065181.81818;0;0.058;0.108;0.098;0;0.02;0.026;0.024;0;0.004;0.006;0.006;0];
x1_step1.gain = [0.019047619047619;2;0.0111593097129202;0.0111575265611988;0.00558021866997529;0.00558833864984993;0.0055717120141477;0.0055656987532611;0.00563512886796761;0.0055805372737048;0.0112855523538563;0.0116895424706211;0.0114975075596295;0.0113823438292589;0.0116218474103705;0.0114478831715902;4.03784871325412e-08;4.4487981092582e-09;4.14501652075999e-07;1.9517996285697e-09;3.94392406355864e-08;0.00289017341040462;1.23874619150522e-09;1.7989557753225e-09;0.585137507314219;0.0792393026941363;0.009200000184;0.278381711435086;0.02;0.167215691520492;0.084904508960079;0.018018018018018;1;6.70182076284692e-08;6.50619049239708e-08;4.20441080916601e-07;2.14749784126422e-07;1.71112346922905e-07;1.96367206676485e-07;4.01423227829656e-06;6.37653018066688e-07;1.01661706807591e-07;6.83092982927354e-08;4.58911753355409e-07;1.3493409304537e-07;1.97870197150402e-07;1.92412812944471e-07;3.90961676870244e-07;2.76451652898921e-07;9.6449348747566e-08;5.90707103251648e-08;3.9963669391426e-07;1.29774669531921e-07;2.05414540549399e-07;1.2949860494703e-07;4.39736158305193e-07;2.7027962412759e-07;1.30959396634078e-07;5.49350393159128e-08;6.69751583047361e-07;2.16357903220338e-07;3.03540384670713e-07;2.80576457084234e-07;6.68703171779303e-07;5.2541920750113e-07;8.97378634637858e-08;6.05208645681597e-08;4.20638031412405e-07;2.36210940954702e-07;1.54912122577923e-07;2.05241111660628e-07;7.33969440181246e-07;6.11756230528048e-07;1.00093268727897e-07;6.1870137393971e-08;4.46000942687337e-07;1.37328650346752e-07;2.01507643551334e-07;2.3195740418585e-07;4.15413737920902e-07;2.71272922337005e-07;1.044183187704e-07;6.14539730691586e-08;1.64921868264971e-07;1.40771787929945e-07;1.8443224210908e-07;1.5405623052453e-07;3.35631903337961e-07;2.21867676761402e-07;1.0328008149747e-07;5.73017392379425e-08;1.25297224950806e-07;1.22039909944301e-07;1.42316064571943e-07;1.26570990503971e-07;2.17177774816155e-07;2.83265718404206e-07;8.78113811532477e-08;5.90892731482069e-08;2.48125664370313e-07;1.11273492270489e-07;1.51255246666161e-07;1.56237793922594e-07;2.55983617048509e-07;2.72162914346897e-07;9.17511541877764e-08;5.65979002179019e-08;3.68921700561657e-07;1.43788972384867e-07;1.58821830783155e-07;1.13222015506264e-07;4.93841016864324e-07;2.69520063170341e-07;8.50433817887658e-08;5.99581655526549e-08;1.17269538703778e-07;1.44101646869381e-07;1.44918944199285e-07;1.3015980073707e-07;2.70529500012264e-07;3.06559732934407e-07;6.34781404367479e-08;4.26175299461204e-08;8.1786210844885e-08;1.44095974009685e-07;7.63898172373623e-08;1.16387337057728e-07;1.31820592173672e-07;2.39566550445064e-07;6.36942675159236;5.52486187845304;6.23052959501558;12.740662724359;7.04225352112676;5.61797752808989;7.14285714285714;14.1421356274619;17.5438596491228;8.7719298245614;10.6382978723404;15.8900400268162];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.0982724320180274891;-1.9379549142177467935;-0.65728737335656550744;9.7463013194922574201;-1.4080813421753624048;-6.4161305047370795762;-2.2426491078161170378;-15.145021235904639667;7.4704221715218706024;-15.765026809218829484];
IW1_1 = [-0.95698428317812878063 -0.53356597814409867375 0.61340250781078187181 -0.87461615433480965898 -0.83996075056123975511 -2.1677434631408787347 2.9665181580949742113 0.37803041083428706726 -0.10188865510591317565 1.5909542454009679702 -2.1772768469286116755 2.1955239489254623209 2.0095381422690667961 -1.5683502550631382988 0.43148767919797165193 -0.52694802274771468387 -2.7789122548052191952 -7.8443067526591123695 5.3544676377504059062 -20.415423254929795149 1.0300772979561994003 0.07945929142616807439 5.8496712960469396947 2.0619379682875917936 -1.1410870079737294169 -1.9513189765048906121 -0.71529337372233714465 -2.6556066214158375871 2.4738737628321980644 -0.29302931689160194306 0.80192035307688258605 0.79530963541497512459 -0.15491642015524931253 6.3132456377012236004 1.2724521510614137387 -0.62988053961011669646 -3.0026532407192569885 1.0237173532052323832 -0.97455593128290096683 2.3709502568379892118 -1.3830034132567436966 8.8828168739338693172 0.60204392268201711858 2.830203351254156896 1.6118531571206413666 -0.058404952561377683484 1.8157591481020414204 -0.79258198822036285414 2.0492703378621257571 -0.42608871737412851166 1.154134181758376787 1.4736660760154376426 4.348767564446850642 -3.1357227573832187062 0.78937698297677338921 -0.18052569110609315017 2.6563064068933566197 -0.021004176780567634236 -2.7970896531643716365 0.82308107890834170117 0.16442851667101723856 -0.31113208242363377121 -1.6371841658302310751 -0.98129689893676863566 1.2544384433613835483 3.1660037950362682757 0.81321420026871571451 1.5417172160551977367 1.6959036270435425831 -1.4703189035821968567 -0.73993756505462482398 -0.99526655127462515527 2.8062845146241479632 0.9756453956247005399 0.66605323872527244511 10.95818189637191864 4.2285827380032783296 -0.11834305775135992023 1.163715029431078074 -2.4930585617089975337 1.5304319337807028578 -2.0134359737445057803 -8.786301850539210534 -13.450894039808236613 -0.79642537619469433441 1.3290139541763741349 5.1448826843559620769 3.2091388399073297322 11.19965282510530713 -8.3723877362129943691 -0.94968735318913122256 -4.7520017977579067647 -0.060369396973550183694 3.1996361835338142932 -5.4244242819440886549 3.3132106267920673481 -2.6767897098686961321 -7.4478896271069521262 -2.1226013554485589907 1.46265572158801338 0.91986201099255582303 -0.43437876967594180044 3.2145150109753890533 5.0540939760733092356 2.8636735348300308424 -3.4184590517157262823 0.85536143640426209878 4.3159784855572160822 3.122095904970502378 4.9242588733799612655 -3.8764356343541033212 6.6336523100709117173 -3.042498880498133218 7.2840033758371722783 2.8879463858882470362 -4.2990274526666745203 -5.0182555572245597375 1.4238059741722308704 3.7286695334931483359 -6.4268688874751536133 3.677895916269991794 0.28620515862593426393 -12.230928206409586778 11.047021982083352398 4.9300185929919324579 0.46062044045440603268 7.099834393120548981 -4.7627310295111158212 -1.3880402126352238135 0.16811652169537097401 1.8060549612580110157 -0.91475699597698578724 -0.83755781243847415851 -5.8953159579983740457 -1.7804631752530462041 -0.37398218190743770517 0.33362927440273637547 -0.83348358935869926167 0.50514524247938463741 1.8501071510973212675 -3.5757089739979734944;-0.57475490467306988851 -0.093480784046101092488 -0.45043848650985218729 0.53434341138949703609 0.12166703387001689962 -2.7508492153072685582 0.49738779057611709478 0.11908325542214358295 0.49926073076221871849 -0.22456007585409357152 0.23514725395239055583 0.80861156193095418132 0.57269960339918990488 -0.96156617153989831781 -0.6731940747224027799 0.24013350867485136475 -8.170968485140903681 3.047573282870440714 1.4651779739520975898 5.3217630535139708314 2.2968681598304399039 0.3201606864051068646 -2.289265295542123102 -5.2362228808268040936 0.76496486848917055745 1.3033910527813779012 0.050487472865843811831 -9.3718287958128421167 -0.50310184096151144839 -4.5833346231606046928 -0.76177491223635895867 0.099914209992250674341 -0.069681632017217789987 -1.9723013961871975752 0.8911396369144118923 4.3175130366664307147 -1.6032131481385309968 0.76892179200034460607 1.5024562504384337824 -2.6379640480074866282 -4.106817740571167441 3.0907434351468499045 -0.21360692354493232559 -3.2814771244914533455 -0.30652057700908347249 -3.4164576515335376428 4.4292321694200209592 -3.6158685163168486909 1.3331956822898054504 4.6937594524428956078 -1.3100921788468189444 0.25403387128253335225 2.1418514734869482652 1.9174261850647977834 -0.54714060984006873678 -5.5999301863143973179 -1.2926503368020374474 1.3465078673361254857 3.8531345467951365613 9.1314661048365248774 -0.38270319037824074293 -2.020132428789308765 -0.46302120588003498058 3.0461236710396351057 -0.96240976971935665585 -3.5601123740721334343 5.028095573453036593 2.1989872454426859782 5.7802070413649691005 -1.4385839418505075304 3.8034226858265416382 -0.35820373915839559542 -5.4456756049308099321 -1.1415217109844950638 0.2663838659768129058 2.2787267591211586293 4.4015095528870844532 1.7649814942418224906 1.6006531484388448749 -4.2640410725035229333 0.60268308447833207619 -3.4246553151543364102 3.806806355287729815 10.651160554439691452 -1.2620996435927123169 0.21828537727900068632 -0.57559894186933402427 9.021500292687257172 -4.3271070336078949481 0.64614496420984146585 -2.6556763885675325199 -4.0873291574922960834 7.2472050668931018436 3.3242477229028053465 0.61061202033723882554 -0.83481464640728952897 -5.3318752518062657586 3.337335758427766752 -4.3227969387081426333 2.4051921041986181748 -9.6516763663350104707 -6.8100592616888446784 0.50881066091503357462 -5.3884660656637128895 -0.10623826927556102862 -0.96317778947292398417 -1.6473844485606925492 0.39060978499943355136 4.7877641734401965579 -2.8519933502838501482 -1.0156100080978234246 -13.903358680260531344 -0.49688135788777537671 -3.4361130608777896711 -2.195066099199990628 0.28866668670714368261 0.31206650615715786357 0.59523172505934618393 -5.4964017482248266333 -11.843179542247398217 7.8950661668185730946 0.53431762267035276537 3.0230646472402127323 -1.0761793705212729932 -2.8325880228442534836 4.6937823701203766902 -0.35509079415251776357 -2.4906057890185224757 6.0225068505815348985 0.7423878587022108011 -0.63446418456627917681 -0.18451806378008794862 0.52182787408858366529 1.0684886696078788049 0.56446902409553190161 1.4610665822631576649 -0.85007440805948630835 -0.33291722318291194771 -0.64478206648135916179 -0.17185441165947112907 1.4054615337251801233;-0.54478853101544311155 -0.086644004558700485341 -0.39835781128294378561 0.43522036578441142263 0.095297373359611067811 -2.325347796896991337 0.51987980402912703504 0.07950132534516930749 0.38247693996928244786 -0.25136131745241030444 0.13202929953600373025 0.74534535373915100642 0.52426977046151534978 -0.92214383391565357684 -0.51853476750109295246 0.24011603387201171933 -7.461590819748150416 3.3280071837317013461 0.86875389495984012278 6.7632718812158572064 1.4507622030796030188 0.43602542778987279926 -3.0287611069680879794 -5.1228036042058198163 0.6912937794682845194 1.4389863834676877019 0.1515889178174304186 -8.7158041217733188688 -0.49594939850042829566 -4.8370098272285666496 -0.7466966661827479923 0.12058456810764953127 -0.065012692251180184688 -2.415325007862168416 0.20974735169073291385 2.8070559987967649285 -3.4000826080996193745 0.46654958146560238097 1.8908178510922544202 -2.6966769136086323755 -3.4064837985308038526 3.0979247232343132268 -1.3198921785320827382 -2.6460079553256510287 -1.2496476234868725275 -3.7546510639365866524 3.8629044762559976434 -5.4314698474741964773 0.30254940141000213893 5.3670507100817212986 -2.7665133314259349184 0.45357194980904808057 4.287463045442568621 1.835820134347828203 -1.1860235868861470632 -6.9242188419522179288 -1.199774561657044103 1.8483144695154161141 1.976430302437301112 7.7686667244243574615 3.1464088183806344645 -2.1284278258559452546 -0.6407687735230803705 2.6686493509673230307 -0.6496011656562051817 -2.8014435874590439823 4.4814841300110899169 2.0490196764851953404 7.8029351468524499325 -1.9805407235472620719 3.6655661802573265007 -0.28710021356649451096 -7.3697096495879517164 -1.5570176260021402204 2.6775274679250231635 1.2659288246372910614 3.7203609314801107111 2.3581734613229952124 2.3006069612266886182 -1.0007315559202356603 2.1305024345597316504 -3.070748625856801084 2.4510851415534333775 12.278054804608109052 0.68460861918635573797 0.025137296167813863446 0.16093912370562821201 9.1212770995611389679 -6.6649642276421561249 0.41527602326734508464 -1.9114402202895399707 -3.3178485524522054462 6.250127460145915137 3.0650731262519088638 1.3981549792608041205 0.49148716387494761904 -6.1263141993069210045 2.688096838643646791 -4.0740732637076062517 1.9004013920122448944 -9.6255529397817962689 -5.4585947963248573345 -0.46926116596998151964 -5.4345162014481402935 2.2801304004230171785 -0.60232542852290726909 -2.4332833137000169366 0.059510234793808340636 5.4112815480158742432 -2.7183723652056754894 -1.1292019217124631414 -13.325162099619573652 -0.0046562979092862888386 -3.0637147177284100863 -1.829360466973471544 1.6799999541492640631 0.79304532906517422042 0.36714819100739998214 -4.8287210025485043374 -11.642689499979868017 6.2317848946108425068 0.33765438915584383706 3.1334779141351458698 -0.15220079630771068957 -2.8384348801753627178 4.81362577886299281 -0.70220278455354068203 0.073389250088244969983 6.0361386329072379553 0.7505024873921680717 -0.53392971889533957786 -0.15516119457130239656 0.42548234096604403698 0.91859382025350855283 0.55169030961948561931 1.2994088354956554454 -0.88621995630911809538 -0.24875332257063181851 -0.74661064233540208601 -0.15966352942359121614 1.6089985342361003973;-1.1908549852600847085 0.25562953045643715955 -0.67239522644040961019 0.58621811121609279649 0.13758993947349548725 -3.4464092377281509982 1.2272949973101228149 -1.390105063105361749 0.34327084584608824613 -0.1117695881135059438 0.88586407624129770433 1.9694714847351515452 -0.26736938529785092555 -0.40673129876043612185 -1.7867530872822601218 -1.1645147726349978079 -4.0072427076951866454 -2.5559717332894447139 1.6574517861816200348 -7.2639908388262881545 0.17111283220714110231 -1.7221915458165155677 11.055181053706530037 4.7448505412492423261 1.0226644439208705251 -16.31512736702555344 -8.0311265164705289976 -5.9773112607816267783 -1.6336112067537584824 27.108248918693632845 -5.4959907648785426559 -5.6447215602533464818 0.5037723566064312708 3.2424081365357171336 -7.2412613418415006095 0.51498520452367357869 -7.1168538824906253382 -5.8129714990164966792 4.4426255176338758091 -4.2613215006161224707 1.0902754266041201348 -2.1600266663619058782 -1.8437882451916709492 -10.20032177361431458 4.9012242514536499272 9.4803901730433253192 -0.029996168010328543713 7.1205086937214963072 -2.0214023499317899102 -8.077575598886998165 2.5582949041776839039 2.5952995029317684761 6.6624355048940024915 -4.3300400711194910741 -2.4613744196139122344 0.90014205474613129265 0.89464190457426284731 6.4748675096118484262 -3.4510100015277886953 8.5166474167892918246 0.83145452137837994044 3.8944670144849817817 -1.6121176863775208421 4.6581455088483307847 -2.2204549083791440545 2.6497855043880145232 -1.8632443996006715636 0.37307542813383454128 3.8867611509627235655 5.8290610919789189737 4.7709572342737347483 4.61228953564026245 -0.14852225724840575904 -7.1440617115218163491 3.0913609227692280257 3.5780895747972412124 10.351960836586531656 4.8577565801634090548 0.17767482338152665311 7.9398255645016737603 -0.61366012646419965115 -4.6739863811021891138 -2.5942688130608808628 -1.0569660176591861855 -0.24283000192988787869 -12.146668728356548428 -3.2163976830113738536 -5.776268541571753623 -16.954535153087530119 -3.6441355425549359914 1.0865170291889392207 1.0937976936264648398 0.65470224535802201693 8.178741973153268674 1.9132515740748545774 5.210798463368523592 3.9920873300779371462 -6.8108352323995315913 -0.85294664745056747446 -1.8120902280415682739 6.9635635259783885687 6.2881942076989538748 3.4685215210381188378 -3.4084111364910647524 0.66166098148752539032 -4.6293283091065058343 2.4975918162807495548 4.3155532166035746044 -1.6879415363473997402 -4.6372867959721810749 -5.5898569834695033265 1.0679999375279420892 -3.5075048662082419781 -0.6623766957272884115 -7.7222416795623658459 10.544265038686120306 -7.8951569588858072635 -7.8876285877553184989 9.7216440982526926007 4.451488446762811968 0.99787707475039655325 1.2968290634755483826 3.1595771139264114957 -1.8648143629662403686 -5.1667696783943544148 -2.2745526479662183661 0.474666623865991677 6.0844284288241539116 2.952781054767979807 -1.7326867657044180415 1.6572507772894844447 -4.3744394005910676171 -3.5611121376159831087 0.92095920441476075702 0.3621136760311716718 0.13453806274804308574 1.7003605544123998605 1.1131004997524887035 -3.2092407109558656053 4.8479124043504215891 8.9686449135029384649;-0.82142281902514313607 -0.011713131091576851894 0.11547460733559058998 -0.39000571404598782799 -0.043267605871469709544 1.0290497940036440472 -0.20664083052465098689 0.15587850594457433595 -0.3514063409687835926 -0.16479844096366377815 -0.011255887474430863529 -0.13019046870430356355 -0.15719961883344982234 0.50880453188541474585 0.082532626259684202519 -0.051712686062761727135 1.5548292119037239178 7.4194818320900095543 -1.4510078165718620635 19.694127396954041131 5.4100277537416987528 -0.24527250600952102411 -23.289293113181624761 -0.90486387853345062737 -4.2251175298310359452 5.2525365844381282088 -0.75613738717803691269 -3.2285869585068045495 0.14876687513397415796 22.843629642844902605 -0.59268120485212816284 -1.5657733878243595971 0.23193451722259866843 -6.0004043052401483394 4.2549985576586557556 4.4257321019339617152 -6.8213613856016603876 -5.0633010069921606799 -8.4820479085171633926 -0.73579937892224323015 8.4413416154737994646 -7.3512318628359034633 -6.5318149302002748158 3.9437780261356927269 1.6129560099754578495 3.4439508475551909861 -4.8052176427943793513 -1.8206259365186319155 8.3992641685933175921 -5.4579841221527285455 7.8682881382622120725 -5.4701333239720479895 0.61020620718589357878 0.95276734312281408101 -1.7601734914863120807 -1.8632493844642001868 3.4778123274637158246 4.6899271672003433054 6.1699641145032506628 2.2232128123540673137 4.6810490701611717768 9.6391829143638734223 -7.461445721818537713 -5.4554561420258131932 3.5901467499546311224 -1.2158210359133185818 -3.8621163112244589755 -12.495942147956666801 -10.637879021714530481 -3.3715370104865423073 -3.3184288579957677001 3.3272028483441933311 -1.4856284466443472336 -17.920290925761023004 0.068367790883434448324 3.993446966458275682 3.3386215548565596478 2.3440862418725734173 -9.1522371671014202121 -4.1537178645799279764 5.5909268590159690859 -7.2144130932173444748 4.4054786919235668918 -1.549449079308098165 -0.91632530755487950902 2.1609629750518331015 -6.3389499838024558898 -12.784612638442013122 -7.5559041406378328887 0.75054201015261046148 5.8019290296182042255 -3.776776088217496774 6.63417098176673381 4.4482480103463846177 0.39452189749349053649 -8.2962093997070187612 -0.58374197249671078147 -6.3287814669293798175 1.6464088545364916616 3.6421682395065722027 -11.224859859714676702 4.1586693074818148474 4.0262751367701898886 -0.0245081045182280223 -11.803909060074555981 -7.9025678412616215951 -9.69915215196062519 -1.8339267888531649575 -7.7619992868416041176 1.3087688210367365294 0.69510145626069219649 9.2235959863566332473 -7.2742577061880586697 -4.2102442276702092272 -7.7774373398966201165 16.282892222386827541 -8.4785194216784418586 1.8672349616378978165 -7.1322049896520329781 14.275391180916907174 7.039978370534890395 3.5327761896216287596 -2.7008883130066516642 -3.8455865426045550137 0.25921003855014396189 0.72709833528443279516 -2.6013301068736534027 1.3197119659114113777 -3.8104431133677043597 0.5208182542579853358 0.018759472425493587538 -0.31562479493471007341 0.41092713024814775391 -1.9071222763544117829 3.4084586156868068585 -2.5645412328136933944 -4.0490170496588664406 1.4783239068211619927 0.60772742871917340146 0.36137400237229971856 3.2033886804259310566;-0.70293279987766343897 0.0054689924728069053833 -0.14012725044264376373 -0.57249609593336348023 -0.51685487965809839839 1.7362354476897685629 -0.60722660490616420237 -0.24648515591162320493 0.56169489968092722876 0.14153640150835208877 -0.18389847574718320988 -0.6252481089609739362 0.090717187022642489791 -1.1202371390814445107 0.22758832833069569945 1.4552193779254969375 8.6847210043607194763 -1.9630717113710531851 -3.447906655966562095 17.301307386991680914 -5.578147762670903731 -0.94161000081022916408 -13.359375985057406311 4.0139618335149007677 1.2747312156332364363 -18.931537741397058028 -1.8597047549414258416 -7.5034251667473101932 -0.052325369537810723086 -11.824406541738806453 -0.40592347128886258067 -0.15639021434480254724 -0.030799404264868063957 -2.8340862296663886788 0.76297937351790245941 0.29952691892785121563 -6.334108190974428787 0.10491087507974809767 7.5284870733451905167 3.4716885826843140173 -0.93762179865512995658 6.9418778205043736307 -2.6955490281481733206 -0.95887642485609003717 -2.0655326976973755748 0.18493147817339167238 -3.1825106729809644612 -6.9410650601276504545 -0.075743468904169192202 -3.1456311043536251404 -1.6494135215411891426 -2.5928329648677230779 0.1309000500300357972 0.31518617651196234597 4.7452338066793950944 -6.2320820804340142374 0.50656452049854194808 -1.7661353820587977204 6.7820211738916293953 -4.1463344745335950492 2.6813853837296943716 1.8410040029343865964 -0.88696276596431200545 1.2981035775500455731 0.41066989598116904192 -2.3256387530282838227 5.7328242691033839407 0.39497313989513394006 -4.9947124403019849126 -2.8898022389139850219 1.2904637543741122041 -0.11973271824121571594 -7.0747805695323355835 1.2151950028250426694 3.5178372801497861388 0.76044997346109055592 -1.2048637747286010669 0.050168088830905732678 0.81866145253422573091 -7.1968947031783931934 8.5049860473391110105 1.3075924405400292105 0.11070464736339978573 -12.929189677003376957 -0.55364451286741311886 -2.2319118318021646807 3.673675970525660972 1.2756552821246944784 -0.83435735841530411783 -0.6705003430601278458 -3.3925444958568800047 3.7535337378563990995 -2.8687346093301377969 -4.8702237827117409452 0.27530215447176953347 -5.2105425982935900109 -3.0909879648569966726 -3.1107991215510235605 9.1577922939825739945 4.2569764562018965748 0.9031728241035658078 6.4958037566814255115 2.877702118360515815 -8.1812918128575731203 -6.3065815396823241556 1.1743367254426193558 -1.1440470824277373385 3.3279149640030278867 5.822156085344696308 0.20593130245171992199 -2.2384936652800111467 -1.4935420139238333448 3.51133518625064589 1.1322186676449172982 2.149682706833796253 6.0940501910481748027 -13.529467840116902622 -1.3862836175725234966 3.5407304047031158412 -1.7764290086968270721 -2.5577832919913636722 -1.0980151608262884722 0.98325337765866915873 -1.0706798246348274706 2.0855995312675879028 3.4414162414207423168 -6.2448924507813803331 0.73968003583569119641 -2.0551505802345535479 -0.11768668872249105073 -0.26049239324468681511 0.010714104174635186856 0.48093556124982012046 -0.40726172613789513033 0.53882425041768478025 -1.1159053524643791633 -0.71981421283700941505 0.53356257070395940456 -0.66217815911534194662 0.42222460001266720608 1.0334183363351174822;-0.780550322470786484 -0.035035873852497366465 -0.26429405709056058571 0.40620437395246511425 0.098173505570666591558 -1.8036425503662822933 0.1672170411855938843 0.12805835407221738409 0.23333223426161381342 -0.29569439031860578204 0.57855637807975268672 0.48226141475409672887 0.060863159763220438248 -0.15965017149152821441 -0.77366045887687373561 0.14040920429661565838 -10.387626839728055117 1.0551980338844424434 2.1703033114267986647 -5.4511271869369419818 2.9499364967151939787 0.29716690084493319057 7.3267940342283370825 -3.0959727055966546061 7.9813711331294294737 -24.421552314176945941 0.52163069162730724138 19.52522336731908581 -0.8601196047265659006 -17.311986261762040584 -1.1996366131239675212 0.63544441839226895041 0.0016387504440500981397 -1.4717112033045416375 5.156180799621159494 -3.1894608384979927784 2.6789983511338735234 3.4273615494530420555 2.836358008977542422 -0.18315129010335270965 -0.28330547310170400843 -0.048446621535983835916 3.8970450447473274913 1.1455983744723412521 -5.0226858244159826583 1.5253721163394986515 5.9386523958810855106 -0.45031209894062312893 3.1337419360867122542 0.12404843351906288951 3.2501325523995223676 5.1393650887956336959 0.71625629509787447358 -2.3823027821547868577 0.92989839073090208021 -1.5604925660362944928 0.6359257702331643225 0.28348843453746441767 -0.74552387238415540605 4.7816203164973067885 -6.5191035563580452816 -1.8361567484594663036 -1.4286354286406179881 12.835821777478017225 -0.81546283929630636322 6.4615373339857358204 5.0717577303171887948 2.1307000280310677276 6.3827317037379680542 3.2024936962253498507 0.46434582345996588959 -5.1051364959747509431 -1.7309628636839284876 1.9138331676808184589 5.0459133547509509299 -8.2825043978822741053 -3.2246689315664940345 2.9736571482695830504 0.59578080567344293694 -3.8305206683189867434 -0.16137940231799502433 -3.0869506217400117798 -0.61221902007453898875 4.7047707429981073801 0.71182759283734697853 -0.9069989901106788599 1.2896968419231515934 10.334840268584500222 -4.5866485204003311082 0.966479212571052404 1.4807239732451311642 -4.2810131404777402864 0.022495197610049373627 1.8377982384328492849 0.59464139179121033862 3.287827215744341558 0.71978065491682963195 0.51039212712789594484 -8.9996030302570808601 2.670076080362635107 -3.9055461739596153414 -6.8839238308293086988 -0.80051247468718178535 -6.1086151746113239724 0.57422776918897666665 -3.1480987996424714126 0.55072692756691454807 -0.64568621154820915464 2.8369279888596174999 -1.976007240238349949 3.573340937298020048 -13.591304863419880533 -4.0345299819969202559 -0.49739958983700249817 -4.5415841642473111506 1.594295208907214656 3.5529756447380300699 -2.8701359925987937061 -1.304079432534153371 -3.6568571063837409518 3.841138064657385609 0.77520055219788719381 8.9516762226070625275 -9.4846905446181501986 -4.2572310818132192978 5.289833465111513533 -1.067420060748272892 -6.2247190485643546509 8.6740562224971284877 1.4978000068498706909 -0.68292936096505973964 -0.12782875749876879135 0.54570314186788915212 0.49560487643189432561 0.56771282888302332381 0.91702114472602846984 -0.3504389378356746465 -0.35137539277936130633 -1.108152339968106137 -0.048402871187442249312 2.2059484284696497802;-0.7620752474319666403 -0.014273120239577113608 -0.57489166478430897556 0.48440518579586522296 0.27056614437508108573 -2.1806942165981624271 0.41349332078895550957 0.13918117811342262113 0.082190722079750394569 -0.2514920720625606898 0.50517776752970289245 0.50442511074641471769 0.1740275958831359604 -0.45595813934211548712 -1.0130349037009658275 0.49144363088523668193 -3.2049822315629534764 2.9548776530634714987 2.6100727686499323177 -0.30817625260188624692 -3.2729806145881803481 -0.49339563248446932642 2.2925760645932395931 -4.2630765423268561776 0.71376002246557956887 -0.40420975069081338527 -0.4789625884490464891 -6.6961696601738962542 -0.48004259933599463528 -6.4360083298223047521 -0.65016636034943731115 -0.082197722500043826632 -0.017780389787883096181 -5.5527907525978168479 -1.6452021416937792075 -0.23933110657616354922 -0.11262719062515259838 -0.54009350445658310669 1.8810505526611227545 -3.2286311431332030963 -8.6521016452683383591 1.6854935928948671098 4.6107598216812197833 -2.7729300662334348537 1.5349337247323739941 2.9618506055975291069 7.7546147969114649356 -3.9483320160594752579 -2.5746304927393075523 -0.15099294310782435113 -5.0337152299336009875 -1.6359741103649652061 -1.7262823339854842519 -2.9966440842620594154 -5.9599296419437060024 2.6795602640465783217 -0.83742911210990822468 2.0526721757866881468 5.0890312609918906261 8.3496565238396929232 -2.9016366787874883215 -3.1165183800438276407 5.7860439284327540577 -3.8296193455205433942 -5.9446871009490180882 -3.4106266381342624783 4.574987438294759734 3.193824239761194228 7.6405893339866217673 -0.45094817502321588032 -2.1674717182367788659 4.1792653713529217541 1.1405458840406272891 2.2903094691690846219 -0.63561034585286868559 2.8904108505997982981 -3.3635897289762439755 -2.0845789398122387404 1.2211205663920827735 -7.4606230416613259493 -1.7585159668976944047 -1.7691922830363813191 2.9996355858434942121 8.1599586140894722064 0.19602807313770748143 0.62765520527205387324 -1.05364714679618654 9.5657822280231314949 -1.3505047304241879491 -0.88916922918540630683 -1.2969394700612411064 -2.5274802100543949379 1.4253542350204790878 4.3907475270392311018 -1.1942988540226668892 0.18570559339328671089 -2.0624532179853467539 4.2568055452809909767 -6.3129698428168561364 0.7826661235326587418 -3.7643403379841307022 -8.2493584683353695652 -1.1109525190946933915 -6.6731242956564376101 -1.3189435126165813816 -0.47675816286916716802 -0.63058796072751410744 1.4605756846297079932 2.2724338613890617822 -3.2710914321871764621 1.4481908067478570512 -10.911978665494549645 -1.5290204076866882321 -2.4792408814281028384 -5.8963532032714986997 -3.5546365391693059976 4.5644421839706748045 -3.0459369847881236915 -4.0152424317382715557 -9.9790085090131146472 2.4566199764364973213 1.0685912902040826111 2.4588951483005905274 -0.63737602388063818726 0.61742059200515253536 1.033781239575530142 0.71344215174181146999 2.463513406899964675 -0.03351982964355532113 -0.079578157366025373265 -0.74833474668381649852 -0.3991331746393592117 0.7656639955431954192 0.57173693313322704324 0.24063346651910574869 1.6300224051646061696 -0.47448276299117064791 0.0028366602494640453039 -0.74387476480529102218 0.019436694516014468154 1.6254911389424746559;0.71902577678942980466 -0.13128359603219055818 0.072514184734163392165 0.79355762150427455737 -0.70214526460153170451 -1.2262488547312335729 -0.23194721793857342451 0.70115081791120881238 1.2408800672329465264 0.20008306871040035246 0.084931023968025723403 0.20092343435486356706 1.7102969110132666408 -1.2983689533389122239 -0.66408116052009436014 -0.52050094036181016044 -4.6430853570004879671 -7.5766713047708265094 4.0733056310771349473 -16.199475943373567333 7.5945443747859471273 -0.37003028329073411884 0.94389859317741520162 7.8953098949042210819 -2.8312025374903400099 9.1934147055428176998 0.013194241712671443342 -0.91568198899133379509 0.76052473949497689798 10.216553230931777918 0.69278065734546745436 -0.36222941864050889338 -0.061270594883908173489 -3.0211556587312284883 -3.0327276437416936794 4.14785754682322505 3.7700019841358631822 3.6295999879520173259 -4.1858934793540258923 0.75539037127880348521 -5.3116385074433907221 1.1711099610990496345 -0.71839661697601220336 -5.3505825781198366187 -4.3897512885921274872 -2.881620344873847106 -5.7185754306675509184 -1.8505165169754551613 -5.022980944957077476 -1.9409431401690337982 -0.36793806645726961913 -1.7933553537808182288 2.4666690868053637864 2.3214228116944508606 -0.87375119932388567445 5.8265751975618549352 -2.6307757477264654966 1.5477402064850818153 1.6729890942629608297 7.0506379060755213217 7.0144330415970550519 -0.92925670600136922594 2.6702073543888045215 -6.7889654995011499139 -4.3318270758207191307 4.5612455911629634642 4.0334941235586665442 1.6246850204673874973 8.0427085482691040852 -2.3769005012816073474 -3.2767238312105226861 -9.1087755552741178633 7.4222003017934108371 2.0282473174410622363 4.9069253361129536728 9.1159858167651890426 0.18304065718966702758 -4.7460572812179533386 -1.0543421768979324149 2.2205522376222375236 -3.0244044209473948115 8.1086500160504542123 22.336478720860725389 8.6594325821965281165 12.712168205814451838 7.2099029009541153457 1.5259719825483326616 11.082336779499398105 -4.9450110257388022461 5.2104193095933455382 -1.9613986074082536692 -3.0558769760436499396 2.9829317736888323331 -2.8130844727656043602 -0.54155561650270533924 1.3590152746673760387 1.3736167894296342773 0.35711316828865735662 0.57064839195370875569 4.9903672598995783005 -3.1230013525351698611 -2.1837597728109554573 3.4307712235982052995 3.5707064636447323203 0.10231706123112357942 0.18014146707495090616 4.4589790490251219879 2.6542982176811298345 -1.2101468254337086616 2.0421351367888713746 -2.170456564592623927 3.801291489057822659 -2.4092684135806297085 -0.73452553111140805875 -3.5123920207356289502 -12.057243428304547095 0.89085666395946305762 0.80709525385022984345 -1.6901779532313201404 -3.9112839273727555423 1.3133265639055329288 3.8228762948310115455 -2.7117028607824269493 -1.4005832164657570083 -4.3269817377997794594 0.54491920437519580922 4.0350627174935924657 -6.9270127178436933235 5.5666646643529213989 -0.64758049558617813979 -0.77764499127057074013 -0.06720947487779153906 0.75178125157044517479 1.1818091324470358927 -0.41062352014549974299 1.2310171583904672143 1.1437613608040668733 -0.86219359499029857297 2.8084986234887918677 -0.68073445745648930583 -5.9285117607803563544;-0.72742629740890540901 0.018787598920414174536 -0.059272083108230955162 -0.6245949098212416617 -0.48839516448606584698 1.6952804734479995918 -0.53140276566992061813 -0.32330479622473068391 0.51311489394009413001 0.14372737383324535321 -0.19146033028201495108 -0.60367093287295325865 0.061721388822925757345 -1.1132092907890680511 0.2136456319528999559 1.373396381965847679 6.8830922572420174532 -1.6212800135530356371 -3.4802407596085904729 17.895978551271706891 -2.7349702334011274374 -0.98285537927140931291 -14.365724737171598591 3.6077589810644017376 1.506711562115488956 -22.368913163123682608 -1.9792482044381307649 -5.9684604112586745472 -0.041593977914378077454 -14.595520966993550616 -0.38041014099294512274 -0.069550999270074187475 -0.038678647822282113955 -4.4945739507477995289 5.0702185717868291093 -0.29782641251846919683 -6.495045567035579559 -0.50760295578420233653 6.9002897428209566399 2.7989882106940799922 -1.4007652967654535825 5.4290764053055218241 2.2981609909519793433 -0.7712324723879794286 -2.9647107724878418722 2.9014623935631527196 -1.0990097052345970674 -7.2278729461092146025 2.9637762692736058234 -5.7297892183066130301 -1.2685716315408241961 -2.1394176763266408159 -2.4656237282131296951 2.0568946842863158331 3.1431771600887317142 -7.5498149263474916282 5.0220634854573011907 -1.8425375348849226675 10.294350067367593837 -3.7108578168006634002 -3.6298255833640236112 3.4239399049481358261 -2.6626705559428582859 -0.38980654089599470202 2.5632402431422889322 -4.6051367689092490565 1.2061716088274834213 1.3152769192744977467 -7.1247593213123394662 -2.2329497261530359964 1.3190267454071749054 -1.2853818799989484845 -4.2214538245575772279 4.198086321924023423 -0.85700710793838386081 0.42717853479807277317 -0.91030898569411589083 -5.1733220210290067342 1.7248006977920768978 -5.2694692829994354 -1.393279804860626081 0.52830997217589303894 1.4822766762443770894 -14.711498564290382163 -2.9918873006435875439 -0.87010725855141679563 2.7072669996200011688 -2.0417413636860128889 2.6283422092334829401 -0.91064753289303468353 -2.8144486137858422126 3.4886982459950335311 -4.8843285805288561008 -6.0080203139750594232 0.77292283884717738474 -8.5264886749550683476 -4.8661984931743269556 -2.1906852140461174905 8.1239004701201924519 3.7319247187093784746 3.855511801988630971 4.6182653221983622771 4.0607435092240367069 -7.1595899029920015977 -9.8268238471710827042 1.4494483186195827873 -2.227867825493477838 2.982076554965662929 7.0601330229464549504 -0.28144027509957830757 -0.26588173470274589771 -1.3264782976641285028 1.99156585401509445 1.8501299866394862459 1.2162333596358529952 6.4629915856221478165 -11.706746468165931674 -2.4845345785868127031 3.0950457919648064475 -0.22843714193000988488 -2.0957690398957429245 -1.0537100965163872512 1.0520268279372955167 -2.6817044659039899202 1.8280937715963245793 5.8300937878262191205 -7.2025296505852214324 -1.3012097653912884088 -1.2700260710471085179 -0.1943479475952536728 -0.25891171193641376869 -0.0061562438193510553644 0.49168618537999236873 -0.30533508181678553628 0.34662407224661440086 -0.97783787729153937018 -0.3901705978008982445 0.5718947095909607814 -0.68482459249651861377 0.40533472237090978352 0.98758091043959039812];

% Layer 2
b2 = [-0.086222857748750478257;-1.3169884512388574382;-0.036042125935333430009;-1.0270497927858341924;-1.4699006309686324379;-0.3317849811047798303;-1.1278139208360800083;-1.1946069776251821981;-0.4093308787994773823];
LW2_1 = [0.017497390316915745201 0.25673000882379348742 -0.22129693193546184915 -0.93854165370422648618 -0.03007175404510034622 0.10604218507168428065 -0.024082980513690437768 -0.032566741369712277898 -0.0032635348846262132207 -0.11705950993991411091;0.20185773130991993551 2.1390129687751739951 -1.0091333247096341275 0.11148465415651920285 -0.049902682768893300014 0.38055283611913165442 0.27570780814430467798 -1.5121939236028563158 -0.22403106410911102775 -0.64580978440147229769;-0.95933698825939284216 0.0010034226720787701483 0.0050956891315573288673 0.0021546328557317455214 -0.00064526479287962241159 -0.014857082556038727836 -0.0044974403907712314638 -0.0059784200003679087432 0.0021695866089853580588 0.020134020746812902186;0.036473890722294448341 0.18580037213330269363 -0.063733728129242883664 0.0089929871300975117859 -0.01795452103529709964 -10.74882735134190348 -0.066179255372580431116 -0.061988325425956586345 -0.0345797838602346988 10.750603212195240843;0.068208501002074289898 0.28525855157086443814 -0.094686688013498387928 0.50375548877112796831 -0.50187273021585521171 0.6505566912401249402 -0.84949284483253073574 0.093350163109007400219 -0.11647556287612015335 -0.72814974111206809404;0.073418893615545599562 0.80547212928896705364 -0.69189583053861025697 0.18289555891939557331 0.80250900335844699285 0.5318836064936334207 -0.2264983939158790871 -0.044849776272912679487 -0.022781934657027130831 -0.59549171213165918992;0.32195766491493088557 -7.7360970175414767169 7.4212237285914790519 0.097888096656762221826 -0.063689117991083107895 1.5660551825790538505 0.49239015626086946043 0.74451781804694738831 0.7177440822918003116 -1.6067467339948742211;0.20924828893043043165 3.9661226005194323285 -5.2232168101007516725 0.028853632108819419338 -0.1102889184528262484 3.9376758856524252117 0.45899989692743026204 0.74143927354749883385 -0.25838791757512336034 -4.0793068226292845679;0.030578636717089466984 0.096704882767990774095 -0.12240231638583441709 0.0024836442788596425381 -0.028023841901306141555 3.5914146918425324806 -0.056309652427000790598 0.078289586136011404816 -0.060376059921476925296 -2.9985569241806073748];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [2;2;2;2;2;2;2;2;2];
y1_step1.xoffset = [0;0;0;0;0;0;0;0;0];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
